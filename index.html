<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ โ MVP</title>
  <meta name="description" content="MVP ุชูุงุนูู: ุนูุงุฏุฉ ูุฏุฑุณูุฉ + ุงุณุชุดุงุฑุฉ ูุฑุฆูุฉ + ููุญุงุช ุชุญูู + ุตูุงุญูุงุช." />
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="bg-glow"></div>

  <header class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true">+</div>
      <div class="brand-txt">
        <div class="brand-title">ุงูุนูุงุฏุฉ ุงููุฏุฑุณูุฉ ุงูุฐููุฉ</div>
        <div class="brand-sub">MVP โ ุนูุงุฏุฉ ูุฏุฑุณูุฉ + ุงุณุชุดุงุฑุฉ ูุฑุฆูุฉ + ููุญุงุช ุชุญูู + ุตูุงุญูุงุช</div>
      </div>
    </div>

    <nav class="tabs" aria-label="ุงูุชููู">
      <button class="tab active" data-route="home">ุงูุฑุฆูุณูุฉ</button>
      <button class="tab" data-route="workflow">ุณูุฑ ุงูุนูู</button>
      <button class="tab" data-route="login">ุงูุฏุฎูู</button>
      <button class="tab" data-route="dash">ููุญุงุช ุงูุชุญูู</button>
      <button class="tab" data-route="video">ุงูุงุณุชุดุงุฑุฉ ุงููุฑุฆูุฉ</button>
      <button class="tab" data-route="settings">ุงูุตูุงุญูุงุช</button>
      <button class="tab" data-route="contact">ุงูุชูุงุตู</button>
    </nav>

    <div class="top-actions">
      <div class="chip" id="sessionChip">ุบูุฑ ูุณุฌู</div>
      <button class="btn ghost" id="btnReset" title="ุฅุนุงุฏุฉ ุถุจุท ุจูุงูุงุช ุงูุนุฑุถ">ุฅุนุงุฏุฉ ุถุจุท</button>
    </div>
  </header>

  <main class="container">

    <!-- HOME -->
    <section class="panel route" id="route-home">
      <div class="grid2">
        <div class="card hero">
          <div class="hero-title">ุนูุงุฏุฉ ูุฏุฑุณูุฉ โุชุดุจู ุงููุงูุนโ ูู ุนุฑุถ ูุงุญุฏ</div>
          <p class="muted">
            ูุฐุง ูููุฐุฌ MVP ุชูุงุนูู: ูุณุฌู ุญุงูุงุชุ ูุทุจู ุตูุงุญูุงุชุ ูููุธูุฑ ุฑุญูุฉ ุทุงูุจ ูู ุงููุญุต ุฅูู ุงูุงุณุชุดุงุฑุฉ ุงููุฑุฆูุฉ
            ุซู ุชูุฑูุฑ ูููุฏุฑุณุฉ ูููู ุงูุฃูุฑ ูุงูุทุจูุจ. (ูุนูู ูุฌูุฉ ุงูุชุญููู ุชุดูู โูุตุฉโ ูู ูุฌุฑุฏ ุชุตููู ๐)
          </p>

          <div class="kpis">
            <div class="kpi">
              <div class="kpi-num" id="kpiCases">0</div>
              <div class="kpi-label">ุญุงูุงุช ุงูููู</div>
            </div>
            <div class="kpi">
              <div class="kpi-num" id="kpiPending">0</div>
              <div class="kpi-label">ุจุงูุชุธุงุฑ ุงูุทุจูุจ</div>
            </div>
            <div class="kpi">
              <div class="kpi-num" id="kpiCalls">0</div>
              <div class="kpi-label">ุงุชุตุงูุงุช (ูุญุงูุงุฉ)</div>
            </div>
            <div class="kpi">
              <div class="kpi-num" id="kpiAlerts">0</div>
              <div class="kpi-label">ุชูุจููุงุช</div>
            </div>
          </div>

          <div class="row gap">
            <button class="btn" id="btnQuickDemo">ุดุบูู ุฏููู ูุงูุนู ุงูุขู</button>
            <button class="btn ghost" data-nav="login">ุงุจุฏุฃ ุจุชุณุฌูู ุงูุฏุฎูู</button>
          </div>

          <div class="notice ok" id="demoHint">
            โ ููุงุณุจ ููุนุฑุถ ุฃูุงู ูุฌูุฉ ุงูุชุญููู: ุฃุฒุฑุงุฑ ุฏูููุ ุตูุงุญูุงุชุ ูุณุฌู ุฃุญุฏุงุซ ูุงุถุญ.
          </div>
        </div>

        <div class="card">
          <div class="card-title">ูุธุฑุฉ ุณุฑูุนุฉ: ูุงุฐุง ูุซุจุช ูุฐุง ุงููMVPุ</div>
          <ul class="list">
            <li><b>ูุฏุฑุณุฉ</b>: ุชุณุฌูู ุญุงูุฉ/ุฒูุงุฑุฉ + ูุชุงุจุนุฉ + ุฅุดุนุงุฑ ููู ุงูุฃูุฑ.</li>
            <li><b>ุทุจูุจ</b>: ูุงุฆูุฉ ุงูุญุงูุงุช + ูุจูู/ุฑูุถ + ุชูุตูุฉ + ุชูุฑูุฑ.</li>
            <li><b>ููู ุฃูุฑ</b>: ุฅุดุนุงุฑ + ููุงููุฉ + ูุชุงุจุนุฉ + ุงุณุชุดุงุฑุฉ ูุฑุฆูุฉ (ูุญุงูุงุฉ).</li>
            <li><b>ุตูุงุญูุงุช</b>: RBAC (ูุฏูุฑ/ูุฏุฑุณุฉ/ุทุจูุจ/ููู ุฃูุฑ) ูุน ูููุฏ ูุงุถุญุฉ.</li>
          </ul>

          <div class="divider"></div>

          <div class="card-title">ุญุณุงุจุงุช ุชุฌุฑูุจูุฉ</div>
          <div class="chips">
            <button class="chip-btn" data-fill="admin">admin / 1234</button>
            <button class="chip-btn" data-fill="school">school / 1234</button>
            <button class="chip-btn" data-fill="doctor">doctor / 1234</button>
            <button class="chip-btn" data-fill="parent">parent / 1234</button>
          </div>

          <div class="hint">
            ุชูุฏุฑ ุชุบููุฑูุง ูู ุตูุญุฉ โุงูุตูุงุญูุงุชโ.
          </div>
        </div>
      </div>
    </section>

    <!-- WORKFLOW -->
    <section class="panel route hidden" id="route-workflow">
      <div class="card">
        <div class="card-title">ุณูุฑ ุงูุนูู ุงููุงูุนู (Workflow)</div>
        <div class="timeline" id="timeline"></div>

        <div class="row gap">
          <button class="btn" id="btnCreateCase">ุฅูุดุงุก ุญุงูุฉ ุทุงูุจ (ูุญุงูุงุฉ)</button>
          <button class="btn ghost" id="btnSimulateTriage">ุชุดุบูู ุณูุณูุฉ ุฅุฌุฑุงุกุงุช ุชููุงุฆูุฉ</button>
        </div>

        <div class="divider"></div>

        <div class="grid2">
          <div class="card soft">
            <div class="card-title">ุณุฌู ุงูุฃุญุฏุงุซ (Audit Log)</div>
            <div class="log" id="auditLog"></div>
          </div>
          <div class="card soft">
            <div class="card-title">ุงูุชูุจููุงุช</div>
            <div class="log" id="alertsLog"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOGIN -->
    <section class="panel route hidden" id="route-login">
      <div class="grid2">
        <div class="card">
          <div class="card-title">ุงูุฏุฎูู ุงูุชุฌุฑูุจู</div>
          <p class="muted">ุงุฎุชุฑ ุฏูุฑูโฆ ูุง ุชุฎุงูุ ูุง ููู โุญุธุฑ ุฏุงุฆูโ ููุง ๐</p>

          <form id="loginForm" class="form">
            <label>ุงูุฏูุฑ</label>
            <select id="roleSelect">
              <option value="school">ูุฏุฑุณุฉ</option>
              <option value="doctor">ุทุจูุจ</option>
              <option value="parent">ููู ุฃูุฑ</option>
              <option value="admin">ูุฏูุฑ ุงููุธุงู</option>
            </select>

            <label>ุงุณู ุงููุณุชุฎุฏู</label>
            <input id="username" placeholder="ูุซุงู: school" autocomplete="username" />

            <label>ูููุฉ ุงููุฑูุฑ</label>
            <input id="password" type="password" placeholder="ูุซุงู: 1234" autocomplete="current-password" />

            <div class="row gap">
              <button class="btn" type="submit">ุฏุฎูู</button>
              <button class="btn ghost" type="button" id="btnLogout">ุชุณุฌูู ุฎุฑูุฌ</button>
            </div>
          </form>

          <div class="notice warn" id="loginMsg" style="display:none;"></div>
        </div>

        <div class="card">
          <div class="card-title">ูุงุฐุง ูุญุฏุซ ุจุนุฏ ุงูุฏุฎููุ</div>
          <ul class="list">
            <li>ูุชู ุชูุนูู <b>ูููุฏ ุงูุตูุงุญูุงุช</b> ุชููุงุฆููุง.</li>
            <li>ุชุธูุฑ ููุญุฉ ููุงุณุจุฉ ููุฏูุฑ ูู ุตูุญุฉ โููุญุงุช ุงูุชุญููโ.</li>
            <li>ูููู ููุทุจูุจ/ููู ุงูุฃูุฑ ุชุดุบูู โุงูุงุณุชุดุงุฑุฉ ุงููุฑุฆูุฉโ.</li>
          </ul>
          <div class="divider"></div>
          <div class="notice ok">
            ูุตูุญุฉ ููุนุฑุถ: ุงุฏุฎู ูู โูุฏุฑุณุฉโ ูุฃูุดุฆ ุญุงูุฉุ ุซู ุจุฏูู ุฅูู โุทุจูุจโ ูุงูุจููุงุ ุซู โููู ุฃูุฑโ ูุงุจุฏุฃ ููุงููุฉ.
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARDS -->
    <section class="panel route hidden" id="route-dash">
      <div class="grid2">
        <div class="card">
          <div class="card-title">ููุญุฉ ุญุณุจ ุงูุฏูุฑ</div>
          <div class="notice" id="dashHint">ุณุฌูู ุฏุฎููู ูุชูุนูู ููุญุฉ ุงูุฏูุฑ.</div>

          <div class="row gap">
            <button class="btn" id="btnOpenCaseModal">ุฅูุดุงุก ุญุงูุฉ ุฌุฏูุฏุฉ</button>
            <button class="btn ghost" id="btnExport">ุชุตุฏูุฑ ุงูุจูุงูุงุช (JSON)</button>
          </div>

          <div class="divider"></div>
          <div class="table-wrap">
            <table class="table" id="casesTable">
              <thead>
                <tr>
                  <th>ุฑูู</th>
                  <th>ุงูุทุงูุจ</th>
                  <th>ุงูุตู</th>
                  <th>ุงูุณุจุจ</th>
                  <th>ุงูุญุงูุฉ</th>
                  <th>ุงูุฃููููุฉ</th>
                  <th>ุฅุฌุฑุงุกุงุช</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <div class="card">
          <div class="card-title">ุชูุงุตูู ุงูุญุงูุฉ</div>
          <div id="caseDetails" class="muted">ุงุฎุชุฑ ุญุงูุฉ ูู ุงูุฌุฏูู.</div>
          <div class="divider"></div>

          <div class="grid2">
            <div class="card soft">
              <div class="card-title">ูุคุดุฑุงุช ุญูููุฉ (ูุญุงูุงุฉ)</div>
              <div class="vitals" id="vitals"></div>
              <button class="btn ghost" id="btnRefreshVitals">ุชุญุฏูุซ ุงูููุงุณุงุช</button>
            </div>
            <div class="card soft">
              <div class="card-title">ุฎุทุฉ ุงูุฅุฌุฑุงุก</div>
              <div class="muted" id="planBox">โ</div>
              <div class="row gap">
                <button class="btn" id="btnAccept">ูุจูู (ุทุจูุจ)</button>
                <button class="btn danger" id="btnReject">ุฑูุถ (ุทุจูุจ)</button>
                <button class="btn ghost" id="btnNotifyParent">ุฅุดุนุงุฑ ููู ุงูุฃูุฑ</button>
              </div>
              <div class="row gap">
                <button class="btn" id="btnStartCall">ุจุฏุก ุงุณุชุดุงุฑุฉ ูุฑุฆูุฉ</button>
                <button class="btn ghost" id="btnCloseCase">ุฅุบูุงู ุงูุญุงูุฉ</button>
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- VIDEO -->
    <section class="panel route hidden" id="route-video">
      <div class="card">
        <div class="card-title">ุงูุงุณุชุดุงุฑุฉ ุงููุฑุฆูุฉ (ูุญุงูุงุฉ ูุงูุนูุฉ ุฏุงุฎู ุงููุชุตูุญ)</div>
        <p class="muted">
          ุชุดุบูู ูุงููุฑุง/ูุงูู + ุชุณุฌูู ููุงุญุธุงุช + โุทุฑู ุซุงููโ ูุญุงูุงุฉ.
          ุฅุฐุง ูุชุญุช ุงููููุน ูู <b>ุชุงุจูู</b> ุนูู ููุณ ุงูุฌูุงุฒุ ุจูุตูุฑ ุชุจุงุฏู ุฅุดุงุฑุงุช ุนุจุฑ <b>BroadcastChannel</b>.
        </p>

        <div class="video-grid">
          <div class="video-card">
            <div class="video-title">ุงูุทุฑู ุงูุญุงูู</div>
            <video id="localVideo" autoplay playsinline muted></video>
            <div class="video-actions">
              <button class="btn" id="btnCam">ุชุดุบูู ุงููุงููุฑุง</button>
              <button class="btn ghost" id="btnMic">ุชุจุฏูู ุงููุงูู</button>
              <button class="btn danger" id="btnHang">ุฅููุงุก</button>
            </div>
          </div>

          <div class="video-card">
            <div class="video-title">ุงูุทุฑู ุงูุขุฎุฑ (ูุญุงูุงุฉ/ุชุงุจ ุซุงูู)</div>
            <video id="remoteVideo" autoplay playsinline></video>
            <div class="notice" id="callStatus">ุบูุฑ ูุชุตู</div>
            <div class="video-actions">
              <button class="btn" id="btnCallInvite">ุฅุฑุณุงู ุฏุนูุฉ ุงุชุตุงู</button>
              <button class="btn ghost" id="btnOpenSecondTab">ุงูุชุญ โุชุงุจ ุซุงููโ ููุทุฑู ุงูุขุฎุฑ</button>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="grid2">
          <div class="card soft">
            <div class="card-title">ููุงุญุธุงุช ุงูุทุจูุจ</div>
            <textarea id="doctorNotes" rows="6" placeholder="ุงูุชุจ ุงูููุงุญุธุงุช ูุงูุชูุตูุงุช ููุง..."></textarea>
            <div class="row gap">
              <button class="btn" id="btnSaveNotes">ุญูุธ ูู ุงูุญุงูุฉ</button>
              <button class="btn ghost" id="btnQuickRx">ุชูููุฏ ุชูุตูุฉ ุฌุงูุฒุฉ</button>
            </div>
          </div>

          <div class="card soft">
            <div class="card-title">ุณุฌู ุงูููุงููุฉ</div>
            <div class="log" id="callLog"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- SETTINGS / RBAC -->
    <section class="panel route hidden" id="route-settings">
      <div class="grid2">
        <div class="card">
          <div class="card-title">ุงูุตูุงุญูุงุช (RBAC) โ ูุณุฎุฉ ุนุฑุถ</div>
          <p class="muted">ููุง ูุซุจุช ููุฌูุฉ ุฃู ุนูุฏู ุญูููุฉ ูุตูุงุญูุงุชโฆ ูู โูู ุฃุญุฏ ุฃุฏููโ ๐</p>

          <div class="table-wrap">
            <table class="table">
              <thead>
                <tr>
                  <th>ุงูููุฒุฉ</th>
                  <th>ูุฏุฑุณุฉ</th>
                  <th>ุทุจูุจ</th>
                  <th>ููู ุฃูุฑ</th>
                  <th>ุฃุฏูู</th>
                </tr>
              </thead>
              <tbody id="rbacTable"></tbody>
            </table>
          </div>

          <div class="divider"></div>
          <div class="notice ok">ุชุทุจูู ุงููููุฏ ูุชู ุชููุงุฆููุง ุนูุฏ ุงูุฏุฎูู (ูุชุธูุฑ ุฑุณุงุฆู ููุน ูุงุถุญุฉ).</div>
        </div>

        <div class="card">
          <div class="card-title">ุญุณุงุจุงุช ุงูุฏุฎูู (ุชุนุฏูู ุณุฑูุน)</div>
          <div class="form">
            <label>admin</label>
            <input id="credAdmin" />
            <label>school</label>
            <input id="credSchool" />
            <label>doctor</label>
            <input id="credDoctor" />
            <label>parent</label>
            <input id="credParent" />
            <div class="row gap">
              <button class="btn" id="btnSaveCreds">ุญูุธ</button>
              <button class="btn ghost" id="btnRestoreCreds">ุงุณุชุฑุฌุงุน ุงูุงูุชุฑุงุถู</button>
            </div>
          </div>

          <div class="divider"></div>
          <div class="card-title">ููุงุญุธุฉ ุชูููุฉ</div>
          <p class="muted">
            ูุฐุง MVP ุนูู GitHub Pages: ุงูุจูุงูุงุช ูุญููุฉ (LocalStorage) ูุณูููุฉ ุงูุนุฑุถ.
            ุนูุฏ ุงูุชุญููู ูุฅูุชุงุฌ ูุนูู: ูุฑุจุท Backend + ูุงุนุฏุฉ ุจูุงูุงุช + ุชุณุฌูู ุฏุฎูู ุขูู + ุณุฌูุงุช ุชุฏููู.
          </p>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="panel route hidden" id="route-contact">
      <div class="card">
        <div class="card-title">ุงูุชูุงุตู</div>
        <p class="muted">ุถุน ููุง ุจุฑูุฏู/ุฑูุงุจุท ุงูุนุฑุถ/QR ููุนุฑุถ ุงูุณุฑูุน.</p>

        <div class="grid2">
          <div class="card soft">
            <div class="card-title">ุฑุงุจุท ุงููููุน</div>
            <div class="mono" id="siteUrl">โ</div>
            <button class="btn ghost" id="btnCopyUrl">ูุณุฎ ุงูุฑุงุจุท</button>
          </div>
          <div class="card soft">
            <div class="card-title">ุฑุณุงูุฉ ุฌุงูุฒุฉ ููุฌูุฉ</div>
            <textarea id="pitchTxt" rows="7"></textarea>
            <button class="btn" id="btnCopyPitch">ูุณุฎ</button>
          </div>
        </div>

        <div class="divider"></div>
        <div class="notice ok">
          ุฅุฐุง ุชุจุบู: ุฃูุชุจ ูู ูุต โุณูุฑูุจุช ุนุฑุถโ ููุฏุฉ 60 ุซุงููุฉ ูุดุฑุญ ุงููMVP ุฎุทูุฉ ุจุฎุทูุฉ ููุฌูุฉ.
        </div>
      </div>
    </section>

  </main>

  <!-- Modal: Create Case -->
  <div class="modal hidden" id="caseModal" aria-hidden="true">
    <div class="modal-card">
      <div class="modal-head">
        <div class="modal-title">ุฅูุดุงุก ุญุงูุฉ ุทุงูุจ</div>
        <button class="icon-btn" id="btnCloseModal" aria-label="ุฅุบูุงู">โ</button>
      </div>

      <form id="caseForm" class="form">
        <div class="grid2">
          <div>
            <label>ุงุณู ุงูุทุงูุจ</label>
            <input id="cStudent" placeholder="ูุญูุฏ" required />
          </div>
          <div>
            <label>ุงูุตู</label>
            <input id="cGrade" placeholder="ุณุงุฏุณ (ุจ)" required />
          </div>
        </div>

        <label>ุณุจุจ ุงูุฒูุงุฑุฉ</label>
        <input id="cReason" placeholder="ุญุฑุงุฑุฉ + ุตุฏุงุน" required />

        <div class="grid2">
          <div>
            <label>ุงูุฃููููุฉ</label>
            <select id="cPriority">
              <option value="ุนุงุฏู">ุนุงุฏู</option>
              <option value="ูุชูุณุท">ูุชูุณุท</option>
              <option value="ุนุงุฌู">ุนุงุฌู</option>
            </select>
          </div>
          <div>
            <label>ููุงููุฉ ููู ุงูุฃูุฑ</label>
            <select id="cConsent">
              <option value="pending">ุจุงูุชุธุงุฑ</option>
              <option value="approved">ููุงูู</option>
              <option value="rejected">ูุฑููุถ</option>
            </select>
          </div>
        </div>

        <label>ููุงุญุธุฉ (ุงุฎุชูุงุฑู)</label>
        <textarea id="cNote" rows="3" placeholder="ูุซุงู: ุชู ููุงุณ ุงูุญุฑุงุฑุฉ ุนูุฏ ุงูุฏุฎูู..."></textarea>

        <div class="row gap">
          <button class="btn" type="submit">ุญูุธ ุงูุญุงูุฉ</button>
          <button class="btn ghost" type="button" id="btnDemoCase">ุชุนุจุฆุฉ ูููุฐุฌ ุฌุงูุฒ</button>
        </div>

        <div class="notice warn" id="caseMsg" style="display:none;"></div>
      </form>
    </div>
  </div>

  <footer class="footer">
    <span class="muted">MVP Demo โ Smart School Clinic Initiative ยฉ <span id="year"></span></span>
  </footer>

  <script src="./app.js"></script>
</body>
</html>
